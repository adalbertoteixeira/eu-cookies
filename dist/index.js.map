{"version":3,"sources":["../index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["const euCookies = {\n  black: 'rgba(0, 0, 0, .9);',\n  white: 'rgba(255, 255, 255, .9);',\n  gray: 'rgba(128, 128, 128, .5);',\n  eventListenersTargets: [],\n  cookieWarningWrapper: null,\n  euCookiesOptions: {\n    location: 'top',\n    theme: 'light',\n    okButtonText: 'Ok, I accept',\n    urlButtonText: 'Learn more',\n    pluginText: 'This site uses cookies from Google to deliver its services, to personalize ads and to analyze traffic. Information about your use of this site is shared with Google. By using this site, you agree to its use of cookies',\n    onCookiesAccepted(){},\n  },\n};\n\nconst storageAvailable = (type) => {\n  try {\n    const storage = window[type];\n    const x = '__storage_test__';\n\n    storage.setItem(x, x);\n    storage.removeItem(x);\n\n    return true;\n  } catch (e) {\n    return false;\n  //   return e instanceof DOMException && (\n  //       // everything except Firefox\n  //       e.code === 22 ||\n  //       // Firefox\n  //       e.code === 1014 ||\n  //       // test name field too, because code might not be present\n  //       // everything except Firefox\n  //       e.name === 'QuotaExceededError' ||\n  //       // Firefox\n  //       e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n  //       // acknowledge QuotaExceededError only if there's something already stored\n  //       storage.length !== 0;\n  }\n};\n\nconst isStorageAvailable = storageAvailable();\n\neuCookies.init = (options) => {\n  euCookies.euCookiesOptions = Object.assign(euCookies.euCookiesOptions, options);\n  const addElement = (elementOptions) => {\n    const cookieWarningButtonUrl = document.createElement(elementOptions.type);\n    cookieWarningButtonUrl.classList.add(elementOptions.class);\n    elementOptions.extraClass ? cookieWarningButtonUrl.classList.add(elementOptions.extraClass) : null;\n    cookieWarningButtonUrl.innerHTML = elementOptions.text;\n    /**\n     * @todo remove event listener after removing object\n     */\n    cookieWarningButtonUrl.addEventListener('click', elementOptions.eventListener);\n    euCookies.eventListenersTargets.push({cookieWarningButtonUrl: cookieWarningButtonUrl, eventListener: elementOptions.eventListener});\n    cookieWarningButtonsWrapper[0].appendChild(cookieWarningButtonUrl);\n  };\n\n  if (!navigator.cookieEnabled) {\n    euCookies.cookieWarningWrapper = document.createElement('div');\n    euCookies.cookieWarningWrapper.innerHTML = `\n      <div class=\"eu-cookie-compliance-text__wrapper\">\n        <p class=\"eu-cookie-compliance-text\">The browser does not allow cookies to be set.</p>\n      </div>\n    `;\n    return false;\n  }\n\n  if (isStorageAvailable && localStorage.getItem('euCookieAcceptance')) {\n    return euCookies.euCookiesOptions.onCookiesAccepted();\n  }\n\n  const domElementToUseCSS = `\n  .eu-cookie-compliance__wrapper {\n    position: fixed;\n    z-index: 999999;\n    top: ${euCookies.euCookiesOptions.location === 'bottom' ? 'initial' : 0};\n    left: 0;\n    right: 0;\n    bottom: ${euCookies.euCookiesOptions.location === 'bottom' ? 0 : 'initial'};\n    background-color: ${euCookies.euCookiesOptions.theme === 'dark' ? euCookies.black : euCookies.white};\n    color: ${euCookies.euCookiesOptions.theme === 'dark' ? euCookies.white : euCookies.black};\n  }\n  .eu-cookie-compliance-text__wrapper {\n    float: left;\n    width: 100%;\n  }\n  .eu-cookie-compliance-text {\n    float: left;\n    width: calc(100% - 4rem);\n    margin: 1rem 2rem;\n  }\n  .eu-cookie-compliance-buttons__wrapper {\n    float: left;\n    width: 100%;\n    margin: 0;\n    text-align: center;\n  }\n  .eu-cookie-compliance-button {\n    width: calc(100% - 4rem);\n    margin: 0rem 2rem 1rem 2rem;\n    padding: 1rem;\n    border-radius: .5rem;\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n  .eu-cookie-compliance-button--accept {\n    background-color: ${euCookies.euCookiesOptions.theme === 'dark' ? euCookies.white : euCookies.black};\n    color: ${euCookies.euCookiesOptions.theme === 'dark' ? euCookies.black : euCookies.white};\n    cursor: pointer;\n  }\n  .eu-cookie-compliance-button--url {\n    background-color: ${euCookies.euCookiesOptions.theme === 'dark' ? euCookies.black : euCookies.gray};\n    color: ${euCookies.euCookiesOptions.theme === 'dark' ? euCookies.white : euCookies.black};\n    cursor: pointer;\n  }\n  @media (min-width: 600px) {\n    .eu-cookie-compliance-button--accept {\n      width: calc(50% - 4rem);\n    }\n    .eu-cookie-compliance-button--url {\n      width: calc(50% - 4rem);\n    }\n  }\n  `;\n  const head = document.head;\n  const domElementToUseStyleTag = document.createElement('style');\n  domElementToUseStyleTag.type = 'text/css';\n  if (domElementToUseStyleTag.styleSheet) {\n    domElementToUseStyleTag.styleSheet.cssText = domElementToUseCSS;\n  } else {\n    domElementToUseStyleTag.appendChild(document.createTextNode(domElementToUseCSS));\n  }\n\n  head.appendChild(domElementToUseStyleTag);\n\n  euCookies.cookieWarningWrapper = document.createElement('div');\n  euCookies.cookieWarningWrapper.classList.add('eu-cookie-compliance__wrapper');\n  /**\n   * @todo optional link param\n   */\n  const content = `<div class=\"eu-cookie-compliance-text__wrapper\">\n      <p class=\"eu-cookie-compliance-text\">${euCookies.euCookiesOptions.pluginText}</p>\n    </div>\n    <div id=\"eu-cookie-compliance-buttons__wrapper\" class=\"eu-cookie-compliance-buttons__wrapper\">\n    </div>`;\n  euCookies.cookieWarningWrapper.innerHTML = content;\n\n  let domElementToUse;\n  if (euCookies.euCookiesOptions.domElement) {\n    domElementToUse = document.getElementById(euCookies.euCookiesOptions.DOMElement);\n  } else {\n    domElementToUse = document.body;\n  }\n\n  document.body.appendChild(euCookies.cookieWarningWrapper);\n\n  const cookieWarningButtonsWrapper = document.getElementsByClassName('eu-cookie-compliance-buttons__wrapper');\n  addElement({type: 'button', class: 'eu-cookie-compliance-button', extraClass: 'eu-cookie-compliance-button--accept', text: euCookies.euCookiesOptions.okButtonText, eventListener: euCookies.acceptCookies.bind(this, euCookies.euCookiesOptions)});\n\n  if (!!euCookies.euCookiesOptions.cookiesUrl) {\n    addElement({type: 'button', class: 'eu-cookie-compliance-button', extraClass: 'eu-cookie-compliance-button--url', text: euCookies.euCookiesOptions.urlButtonText, eventListener: euCookies.goToCookiesUrl});\n  }\n  \n\n  \n  \n  return false;\n};\n\neuCookies.goToCookiesUrl = () => {\n  window.location.href = euCookies.euCookiesOptions.cookiesUrl;\n};\n\neuCookies.acceptCookies = () => {\n  for (var i = euCookies.eventListenersTargets.length - 1; i >= 0; i--) {\n    euCookies.eventListenersTargets[i].cookieWarningButtonUrl.removeEventListener('click', euCookies.eventListenersTargets[i].eventListener);\n  }\n  euCookies.cookieWarningWrapper.parentNode.removeChild(euCookies.cookieWarningWrapper);\n\n  if (isStorageAvailable) {\n    localStorage.setItem('spidertattoosCookieAcceptance', true);\n  }\n  euCookies.euCookiesOptions.onCookiesAccepted();\n};\n\nexport { euCookies as default };\n"]}