{"version":3,"sources":["../index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["const euCookies = {\n  black: 'rgba(0, 0, 0, .9);',\n  white: 'rgba(255, 255, 255, .9);',\n  gray: 'rgba(128, 128, 128, .5);',\n  eventListenersTargets: [],\n  cookieWarningWrapper: null,\n  euCookiesOptions: {\n    location: 'top',\n    theme: 'light',\n    okButtonText: 'Ok, I accept',\n    urlButtonText: 'Learn more',\n    pluginText: 'This site uses cookies from Google to deliver its services,to personalize ads and to analyze traffic. Information about your use of this site is shared with Google. By using this site, you agree to its use of cookies',\n    onCookiesAccepted() {},\n  },\n};\n\nconst storageAvailable = (type = 'localStorage') => {\n  try {\n    const storage = window[type];\n    const x = '__storage_test__';\n\n    if (!storage) {\n      return false;\n    }\n\n    storage.setItem(x, x);\n    storage.removeItem(x);\n\n    return true;\n  } catch (e) {\n    return false;\n  //   return e instanceof DOMException && (\n  //       // everything except Firefox\n  //       e.code === 22 ||\n  //       // Firefox\n  //       e.code === 1014 ||\n  //       // test name field too, because code might not be present\n  //       // everything except Firefox\n  //       e.name === 'QuotaExceededError' ||\n  //       // Firefox\n  //       e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n  //       // acknowledge QuotaExceededError only if there's something already stored\n  //       storage.length !== 0;\n  }\n};\n\nconst isStorageAvailable = storageAvailable();\n\neuCookies.init = (options) => {\n  euCookies.euCookiesOptions = Object.assign(\n    euCookies.euCookiesOptions, options,\n  );\n  const addElement = (elementOptions) => {\n    const cookieWarningButtonUrl = document.createElement(elementOptions.type);\n    cookieWarningButtonUrl.classList.add(elementOptions.class);\n    elementOptions.extraClass ?\n      cookieWarningButtonUrl.classList.add(elementOptions.extraClass) :\n      null;\n    cookieWarningButtonUrl.innerHTML = elementOptions.text;\n    /**\n     * @todo remove event listener after removing object\n     */\n    cookieWarningButtonUrl.addEventListener(\n      'click', elementOptions.eventListener,\n    );\n    euCookies.eventListenersTargets.push({\n      cookieWarningButtonUrl: cookieWarningButtonUrl,\n      eventListener: elementOptions.eventListener,\n    });\n    cookieWarningButtonsWrapper[0].appendChild(cookieWarningButtonUrl);\n  };\n\n  if (!navigator.cookieEnabled) {\n    euCookies.cookieWarningWrapper = document.createElement('div');\n    euCookies.cookieWarningWrapper.innerHTML = `\n      <div class=\"eu-cookie-compliance-text__wrapper\">\n        <p class=\"eu-cookie-compliance-text\">\n          The browser does not allow cookies to be set.\n        </p>\n      </div>\n    `;\n    return false;\n  }\n\n  if (isStorageAvailable && localStorage.getItem('euCookieAcceptance')) {\n    return euCookies.euCookiesOptions.onCookiesAccepted();\n  }\n\n  const domElementToUseCSS = `\n  .eu-cookie-compliance__wrapper {\n    position: fixed;\n    z-index: 999999;\n    top: ${euCookies.euCookiesOptions.location === 'bottom' ? 'initial' : 0};\n    left: 0;\n    right: 0;\n    bottom: ${euCookies.euCookiesOptions.location === 'bottom' ? 0 : 'initial'};\n    background-color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.black :\n      euCookies.white\n    };\n    color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.white :\n      euCookies.black\n    };\n  }\n  .eu-cookie-compliance-text__wrapper {\n    float: left;\n    width: 100%;\n  }\n  .eu-cookie-compliance-text {\n    float: left;\n    width: calc(100% - 4rem);\n    margin: 1rem 2rem;\n  }\n  .eu-cookie-compliance-buttons__wrapper {\n    float: left;\n    width: 100%;\n    margin: 0;\n    text-align: center;\n  }\n  .eu-cookie-compliance-button {\n    width: calc(100% - 4rem);\n    margin: 0rem 2rem 1rem 2rem;\n    padding: 1rem;\n    border-radius: .5rem;\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n  .eu-cookie-compliance-button--accept {\n    background-color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.white :\n      euCookies.black\n    };\n    color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.black :\n      euCookies.white\n    };\n    cursor: pointer;\n  }\n  .eu-cookie-compliance-button--url {\n    background-color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.black :\n      euCookies.gray\n    };\n    color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.white :\n      euCookies.black\n    };\n    cursor: pointer;\n  }\n  @media (min-width: 600px) {\n    .eu-cookie-compliance-button--accept {\n      width: calc(50% - 4rem);\n    }\n    .eu-cookie-compliance-button--url {\n      width: calc(50% - 4rem);\n    }\n  }\n  `;\n  const head = document.head;\n  const domElementToUseStyleTag = document.createElement('style');\n  domElementToUseStyleTag.type = 'text/css';\n  if (domElementToUseStyleTag.styleSheet) {\n    domElementToUseStyleTag.styleSheet.cssText = domElementToUseCSS;\n  } else {\n    domElementToUseStyleTag.appendChild(\n      document.createTextNode(domElementToUseCSS)\n    );\n  }\n\n  head.appendChild(domElementToUseStyleTag);\n\n  euCookies.cookieWarningWrapper = document.createElement('div');\n  euCookies.cookieWarningWrapper.classList.add('eu-cookie-compliance__wrapper');\n  /**\n   * @todo optional link param\n   */\n  const content = `<div class=\"eu-cookie-compliance-text__wrapper\">\n      <p class=\"eu-cookie-compliance-text\">\n        ${euCookies.euCookiesOptions.pluginText}\n      </p>\n    </div>\n    <div\n      id=\"eu-cookie-compliance-buttons__wrapper\" \n      class=\"eu-cookie-compliance-buttons__wrapper\"\n    >\n    </div>`;\n  euCookies.cookieWarningWrapper.innerHTML = content;\n\n  let domElementToUse;\n  if (euCookies.euCookiesOptions.domElement) {\n    domElementToUse = document.getElementById(\n      euCookies.euCookiesOptions.DOMElement,\n    );\n  } else {\n    domElementToUse = document.body;\n  }\n\n  document.body.appendChild(euCookies.cookieWarningWrapper);\n\n  const cookieWarningButtonsWrapper = document.getElementsByClassName(\n    'eu-cookie-compliance-buttons__wrapper',\n  );\n  addElement({\n    type: 'button',\n    class: 'eu-cookie-compliance-button',\n    extraClass: 'eu-cookie-compliance-button--accept',\n    text: euCookies.euCookiesOptions.okButtonText,\n    eventListener: euCookies.acceptCookies.bind(\n      this, euCookies.euCookiesOptions,\n    ),\n  });\n\n  if (euCookies.euCookiesOptions.cookiesUrl) {\n    addElement({\n      type: 'button',\n      class: 'eu-cookie-compliance-button',\n      extraClass: 'eu-cookie-compliance-button--url',\n      text: euCookies.euCookiesOptions.urlButtonText,\n      eventListener: euCookies.goToCookiesUrl,\n    });\n  }\n\n  return false;\n};\n\neuCookies.goToCookiesUrl = () => {\n  window.location.href = euCookies.euCookiesOptions.cookiesUrl;\n};\n\neuCookies.acceptCookies = () => {\n  for (let i = euCookies.eventListenersTargets.length - 1; i >= 0; i--) {\n    euCookies.eventListenersTargets[i]\n      .cookieWarningButtonUrl\n      .removeEventListener(\n        'click', euCookies.eventListenersTargets[i].eventListener,\n      );\n  }\n  euCookies.cookieWarningWrapper.parentNode.removeChild(\n    euCookies.cookieWarningWrapper,\n  );\n\n  if (isStorageAvailable) {\n    localStorage.setItem('euCookieAcceptance', true);\n  }\n  euCookies.euCookiesOptions.onCookiesAccepted();\n};\n\nexport { euCookies as default };\n"]}