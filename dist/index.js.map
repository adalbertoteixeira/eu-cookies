{"version":3,"sources":["../index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["const euCookies = {\n  black: 'rgba(0, 0, 0, .9);',\n  white: 'rgba(255, 255, 255, .9);',\n  gray: 'rgba(128, 128, 128, .5);',\n  eventListenersTargets: [],\n  cookieWarningWrapper: null,\n  euCookiesOptions: {\n    location: 'top',\n    theme: 'light',\n    okButtonText: 'Ok, I accept',\n    urlButtonText: 'Learn more',\n    pluginText: 'This site uses cookies from Google to deliver its services,to personalize ads and to analyze traffic. Information about your use of this site is shared with Google. By using this site, you agree to its use of cookies',\n    onCookiesAccepted() {},\n  },\n};\n\nconst storageAvailable = (type = 'localStorage') => {\n  try {\n    const storage = window[type];\n    const x = '__storage_test__';\n\n    if (!storage) {\n      return false;\n    }\n\n    storage.setItem(x, x);\n    storage.removeItem(x);\n\n    return true;\n  } catch (e) {\n    return false;\n  //   return e instanceof DOMException && (\n  //       // everything except Firefox\n  //       e.code === 22 ||\n  //       // Firefox\n  //       e.code === 1014 ||\n  //       // test name field too, because code might not be present\n  //       // everything except Firefox\n  //       e.name === 'QuotaExceededError' ||\n  //       // Firefox\n  //       e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n  //       // acknowledge QuotaExceededError only if there's something already stored\n  //       storage.length !== 0;\n  }\n};\n\nconst isStorageAvailable = storageAvailable();\n\neuCookies.init = (options) => {\n  euCookies.euCookiesOptions = Object.assign(\n    euCookies.euCookiesOptions, options,\n  );\n  const addElement = (elementOptions) => {\n    const cookieWarningButtonUrl = document.createElement(elementOptions.type);\n    cookieWarningButtonUrl.classList.add(elementOptions.class);\n    elementOptions.extraClass ?\n      cookieWarningButtonUrl.classList.add(elementOptions.extraClass) :\n      null;\n    cookieWarningButtonUrl.innerHTML = elementOptions.text;\n    /**\n     * @todo remove event listener after removing object\n     */\n    cookieWarningButtonUrl.addEventListener(\n      'click', elementOptions.eventListener,\n    );\n    euCookies.eventListenersTargets.push({\n      cookieWarningButtonUrl: cookieWarningButtonUrl,\n      eventListener: elementOptions.eventListener,\n    });\n    cookieWarningButtonsWrapper[0].appendChild(cookieWarningButtonUrl);\n  };\n\n  if (!navigator.cookieEnabled) {\n    euCookies.cookieWarningWrapper = document.createElement('div');\n    euCookies.cookieWarningWrapper.innerHTML = `\n      <div class=\"eu-cookie-compliance-text__wrapper\">\n        <p class=\"eu-cookie-compliance-text\">\n          The browser does not allow cookies to be set.\n        </p>\n      </div>\n    `;\n    return false;\n  }\n\n  if (isStorageAvailable && localStorage.getItem('euCookieAcceptance')) {\n    return euCookies.euCookiesOptions.onCookiesAccepted();\n  }\n\n  const domElementToUseCSS = `\n  .eu-cookie-compliance__wrapper {\n    position: fixed;\n    z-index: 999999;\n    top: ${euCookies.euCookiesOptions.location === 'bottom' ? 'initial' : 0};\n    left: 0;\n    right: 0;\n    bottom: ${euCookies.euCookiesOptions.location === 'bottom' ? 0 : 'initial'};\n    background-color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.black :\n      euCookies.white\n    };\n    color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.white :\n      euCookies.black\n    };\n  }\n  .eu-cookie-compliance-text__wrapper {\n    float: left;\n    width: 100%;\n  }\n  .eu-cookie-compliance-text {\n    float: left;\n    width: calc(100% - 4rem);\n    margin: 1rem 2rem;\n  }\n  .eu-cookie-compliance-buttons__wrapper {\n    float: left;\n    width: 100%;\n    margin: 0;\n    text-align: center;\n  }\n  .eu-cookie-compliance-button {\n    width: calc(100% - 4rem);\n    margin: 0rem 2rem 1rem 2rem;\n    padding: 1rem;\n    border-radius: .5rem;\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n  .eu-cookie-compliance-button--accept {\n    background-color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.white :\n      euCookies.black\n    };\n    color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.black :\n      euCookies.white\n    };\n    cursor: pointer;\n  }\n  .eu-cookie-compliance-button--url {\n    background-color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.black :\n      euCookies.gray\n    };\n    color: ${\n      euCookies.euCookiesOptions.theme === 'dark' ?\n      euCookies.white :\n      euCookies.black\n    };\n    cursor: pointer;\n  }\n  @media (min-width: 600px) {\n    .eu-cookie-compliance-button--accept {\n      width: calc(50% - 4rem);\n    }\n    .eu-cookie-compliance-button--url {\n      width: calc(50% - 4rem);\n    }\n  }\n  `;\n  const head = document.head;\n  const domElementToUseStyleTag = document.createElement('style');\n  domElementToUseStyleTag.type = 'text/css';\n  if (domElementToUseStyleTag.styleSheet) {\n    domElementToUseStyleTag.styleSheet.cssText = domElementToUseCSS;\n  } else {\n    domElementToUseStyleTag.appendChild(\n      document.createTextNode(domElementToUseCSS)\n    );\n  }\n\n  head.appendChild(domElementToUseStyleTag);\n\n  euCookies.cookieWarningWrapper = document.createElement('div');\n  euCookies.cookieWarningWrapper.classList.add('eu-cookie-compliance__wrapper');\n  /**\n   * @todo optional link param\n   */\n  const content = `<div class=\"eu-cookie-compliance-text__wrapper\">\n      <p class=\"eu-cookie-compliance-text\">\n        ${euCookies.euCookiesOptions.pluginText}\n      </p>\n    </div>\n    <div\n      id=\"eu-cookie-compliance-buttons__wrapper\" \n      class=\"eu-cookie-compliance-buttons__wrapper\"\n    >\n    </div>`;\n  euCookies.cookieWarningWrapper.innerHTML = content;\n\n  let domElementToUse;\n  if (euCookies.euCookiesOptions.domElement) {\n    domElementToUse = document.getElementById(\n      euCookies.euCookiesOptions.DOMElement,\n    );\n  } else {\n    domElementToUse = document.body;\n  }\n\n  document.body.appendChild(euCookies.cookieWarningWrapper);\n\n  const cookieWarningButtonsWrapper = document.getElementsByClassName(\n    'eu-cookie-compliance-buttons__wrapper',\n  );\n  addElement({\n    type: 'button',\n    class: 'eu-cookie-compliance-button',\n    extraClass: 'eu-cookie-compliance-button--accept',\n    text: euCookies.euCookiesOptions.okButtonText,\n    eventListener: euCookies.acceptCookies.bind(\n      this, euCookies.euCookiesOptions,\n    ),\n  });\n\n  if (euCookies.euCookiesOptions.cookiesUrl) {\n    addElement({\n      type: 'button',\n      class: 'eu-cookie-compliance-button',\n      extraClass: 'eu-cookie-compliance-button--url',\n      text: euCookies.euCookiesOptions.urlButtonText,\n      eventListener: euCookies.goToCookiesUrl,\n    });\n  }\n\n  return false;\n};\n\neuCookies.goToCookiesUrl = () => {\n  window.location.href = euCookies.euCookiesOptions.cookiesUrl;\n};\n\neuCookies.acceptCookies = () => {\n  for (let i = euCookies.eventListenersTargets.length - 1; i >= 0; i--) {\n    euCookies.eventListenersTargets[i]\n      .cookieWarningButtonUrl\n      .removeEventListener(\n        'click', euCookies.eventListenersTargets[i].eventListener,\n      );\n  }\n  euCookies.cookieWarningWrapper.parentNode.removeChild(\n    euCookies.cookieWarningWrapper,\n  );\n\n  if (isStorageAvailable) {\n    localStorage.setItem('euCookieAcceptance', true);\n  }\n  euCookies.euCookiesOptions.onCookiesAccepted();\n};\n\nexport { euCookies as default };\n"]}